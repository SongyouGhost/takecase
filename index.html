<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=2.0">
    <title>視覺設計委託諮詢</title>
      <style>
    body {font-family: noto-sans-TC, inter, sans-serif;background-color: #FCFCFC;margin: 0; font-size:2rem}
    h1 {text-align: center;color: #333; font-size:100%}
    h3 {text-align: center;font-size:300%}
    form {width:100%;max-width: 800px;margin: 0 auto;padding: 20px 40px;border-radius: 8px;}
    #fieldsetE {display: none;}
    fieldset {
      margin-top: 3em;
      margin-bottom: 1.2em;
      border: 1px solid #ccc;
      padding: 15px;
      border-radius: 5px;
    }
    legend {
      font-weight: bold;
      padding: 0 30px;
    }
    label {
      display: block;
      font-weight: 700;
      padding: 8px;
      margin-top: 50px;
      color: #000000;
    }
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="number"],
    input[type="date"],
    textarea {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
      border-width: 0 0 1px 0;
      background-color: #00000000
    }
    textarea {
      resize: vertical;
      min-height: 20vh;
      background-color: #00000000
    }
    .note {
      color: #888;
      margin-top: 10px;
    }
    .submit-btn {
      background-color: #000000;
      color: #fff;
      padding: 10px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1em;
      margin-top: 20px;
      display: block;
      width: 100%;
    }
    .submit-btn:hover {
      background-color: #D0D0D0;
    }
     /* popup 視窗樣式 */
      #popup {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        display: none; /* 初始隱藏 */
        align-items: center;
        justify-content: center;
        z-index: 1000;
      }
      #popup .popup-content {
        background: #fff;
        padding: 20px 30px;
        border-radius: 8px;
        font-size: 1.2em;
        text-align: center;
      }

  /* 桌機（1024px 以上） 
      @media (min-width: 1024px) {
        body {padding: 50px;}
      }*/
  </style>
  </head>
  <body>
  <form id="myForm" action="#" method="post">
    <h1>視覺設計委託諮詢</h1>

    <label for="reason">請問是從哪看到？以及選擇我的原因</label>
    <textarea id="reason" name="reason" placeholder="請問是從哪看到？以及選擇我的原因"></textarea>

    <label for="identity">您的身份</label>
    <input type="text" id="identity" name="identity" placeholder="例如：行銷部職員、窗口、創意總監或公司老闆">
    
    <!-- B. 自我介紹與品牌資訊 -->
    <fieldset>
      <legend>【A】聯絡資訊</legend>
      
      <label for="name">姓名</label>
      <input type="text" id="name" name="name" placeholder="請輸入姓名" required>
      
      <label for="phone">電話/lineID</label>
      <input type="tel" id="phone" name="phone" placeholder="請輸入電話或lineID">
      
      <label for="email">Email</label>
      <input type="email" id="email" name="email" placeholder="請輸入Email" required>
      
      <label for="website">公司/品牌網站或社群連結</label>
      <input type="text" id="website" name="website" placeholder="請輸入網站或連結">

      </fieldset>
      
      <fieldset>
      <legend>【B】品牌基本資料</legend>

      <label for="brand-name">品牌名稱</label>
      <input type="text" id="brand-name" name="brandName" placeholder="請輸入品牌名稱" required>
      
      <label for="business-scope">業務範圍、產業</label>
      <input type="text" id="business-scope" name="businessScope" placeholder="舉例來說我是視覺設計">
      
      <label for="brand-intro">品牌簡介：</label>
      <textarea id="brand-intro" name="brandIntro" placeholder="風格、理念、定位、業務"></textarea>
      <p class="note">
        風格、理念、定位、業務、公司歷史與規模
      </p>
    </fieldset>
    
    <!-- C. 專案主題與需求說明 -->
    <fieldset>
      <legend>【C】專案主題與需求說明</legend>
      <label for="budget">預算區間</label>
      <input type="text" id="budget" name="budget" placeholder="1000-9000">

      <label for="design-goal">設計目標</label>
      <textarea id="design-goal" name="designGoal" placeholder="提升銷售、強化品牌形象、營造活動氛圍等"></textarea>
      <p class="note">
        例如：提升銷售、強化品牌形象、營造活動氛圍等
      </p>
      
      <label for="deliverables">預期成果物</label>
      <textarea id="deliverables" name="deliverables" placeholder="LOGO、網頁、紙本手冊、戶外大圖、APP介面等"></textarea>
      <p class="note">
        例如：網頁、紙本手冊、戶外大圖、APP介面等
      </p>
    </fieldset>
    
    <!-- D. 時程規劃與付款安排 -->
    <fieldset>
      <legend>【D】時程規劃</legend>
      <label for="deadline">預計結案區間／截稿日</label>
      <input type="date" id="deadline" name="deadline">
      
      <label for="schedule-note">備註</label>
      <textarea id="schedule-note" name="scheduleNote" placeholder="其他重要里程碑或時間節點"></textarea>
      <p class="note">
        ※ 若不限結案時間請指出大概日期<br>
        ※ 初稿提供數量：2<br>
        ※ 免費校稿次數：2<br>
        ※ 如需額外校稿需提供項目費用的10%金額<br>
        ※ 報價費用不包含印刷、製作、攝影費用<br>
        ※ 在提供報價單後，須提供50%總價的金額作為訂金，或拆單處理。<br>
        
      </p>

    </fieldset>
    
    <!-- E. 加分項：精準溝通資訊 -->
    <h3>
      <label for="toggleE">
      <input type="checkbox" id="toggleE">
      我有詳細的企劃！僅需要視覺設計
      </label>
    </h3>

    <fieldset id="fieldsetE">
      <legend>【E】現有企劃內容與計畫</legend>
      <label for="plan-description">企劃簡報或簡易概念說明</label>
      <textarea id="plan-description" name="planDescription" placeholder="請附上企劃文件或連結，也可以簡易說明你的企劃"></textarea>
      <p class="note">
        ※ 通常在企劃簡報中應該包含如<br>
        1.目標受眾、市場分析、競品資訊<br>
        2.每個設計物的項目、尺寸及用途<br>
      </p>

    </fieldset>
    <script>
  // 取得 checkbox 與 fieldset 元素
  var toggleE = document.getElementById('toggleE');
  var fieldsetE = document.getElementById('fieldsetE');

  // 監聽 checkbox 的變化事件
  toggleE.addEventListener('change', function() {
    if (this.checked) {
      fieldsetE.style.display = 'block';
    } else {
      fieldsetE.style.display = 'none';
    }
  });
</script>
    
    <!-- F. 其他備註與常見 Q&A -->
    <fieldset>
      <legend>【F】其他備註與說明</legend>
      <label for="visual-elements">視覺元素／品牌系統／現有相關資料</label>
      <textarea id="visual-elements" name="visualElements" placeholder="請提供連結或簡述內容"></textarea>
      
      <label for="preferences">特別喜好內容</label>
      <textarea id="preferences" name="preferences" placeholder="希望設計師有較大的發揮空間，說明您心中的想法與保留必須元素"></textarea>

      <label for="additional-note">請在此補充其他說明</label>
      <textarea id="additional-note" name="additionalNote" placeholder="請輸入補充說明"></textarea>
       <p class="note">
        ※ 若有其他合作條件或互惠安排請特別說明<br>
        ※ 若在首次提案前成果不符預期則全額退費、若提案後則收取全額訂金。
      </p>
    </fieldset>
    
    <button type="submit" id="result" class="submit-btn">提交表單</button>
  </form>

  <!-- Popup 視窗 -->
    <div id="popup">
      <div class="popup-content">
        已送出！請從郵件內確認
      </div>
    </div>
    
    <script>
      document.getElementById("myForm").addEventListener("submit", function(event) {
          event.preventDefault();
          
          var submitBtn = document.getElementById("result");
          submitBtn.innerText = "傳送中..."; // 1. 變更按鈕文字，表示開始發送
      
          var formData = {
              reason: event.target.reason.value,
              identity: event.target.identity.value,
              name: event.target.name.value,
              phone: event.target.phone.value,
              email: event.target.email.value,
              website: event.target.website.value,
              brandName: event.target.brandName.value,
              businessScope: event.target.businessScope.value,
              brandIntro: event.target.brandIntro.value,
              budget: event.target.budget.value,
              designGoal: event.target.designGoal.value,
              deliverables: event.target.deliverables.value,
              deadline: event.target.deadline.value,
              scheduleNote: event.target.scheduleNote.value,
              planDescription: event.target.planDescription.value,
              visualElements: event.target.visualElements.value,
              preferences: event.target.preferences.value,
              additionalNote: event.target.additionalNote.value
          };
      
          fetch("https://submitformworker.sam883187.workers.dev/api/submit", { // Cloudflare Worker API
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(formData)
          })
          .then(response => response.json())
          .then(data => {
              console.log("Worker 回應:", data.status);
              
              if (data.status === "到達 Worker") {
                  submitBtn.innerText = "到達 Worker"; // 2. Worker 已收到
              } else if (data.status === "已到達") {
                  submitBtn.innerText = "已到達 Google Apps Script"; // 3. API 已收到
              } else if (data.status === "成功紀錄") {
                  submitBtn.innerText = "成功紀錄！"; // 4. 試算表已寫入
                  alert("表單已成功送出！");
                  event.target.reset(); // 清空表單
              }
          })
          .catch(error => {
              console.error("錯誤：", error);
              submitBtn.innerText = "發送失敗，請重試";
          });
      });
      </script>
      
  </body>
</html>
